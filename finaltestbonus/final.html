<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>show image</title>
    <script>
      var filename=new Array("images/apple.png",
                            "images/banana.png",
                            "images/grapes.png",
                            "images/orange.png",
                            "images/starryberry.png");
      var description=new Array("apple","banana","grapes","orange","starryberry");
      var sw=0,id,clear=0,speed=1;
      var randomarray = new Array(5)
      var time = 0
      function random(){
        for(var i=0;i<5;i++){
            var temp = Math.floor(Math.random()*5)
            var flag = 0;
            for(var j=0;j<i;j++){
                if(temp == randomarray[j]){
                    flag = 1;
                    break;
                }
            }
            if(flag == 1){
                i--;
            }else{
                randomarray[i] = temp
                flag = 0
            }
        }
    }
      function autoshow() {
          random()
          for(var i=0;i<5;i++){
            document.getElementById("img"+(i+1)).src = filename[randomarray[i]];
            document.getElementById("desc"+(i+1)).innerHTML = description[randomarray[i]];
          }
        }
      function clearauto(){
        clear=2;
        clearInterval(id)
      }      
      function setauto(){
        clearInterval(id)
        id=setInterval("autoshow()",1000*speed);
      }    
      function setspeed(i){
        speed = i;
      }
      function setlorr(i){
        clear=i;
      }
      function timer(){
        time+=1
        document.getElementById("time").innerHTML = "使用時間:"+time
      }
      setInterval("timer()",1000)
      function init(){
        var title = document.getElementById("title")
        let today = new Date();
    let dayOfWeek = today.getDay();

    let days = ["星期日", "星期一", "星期二", "星期三", "星期四", "星期五", "星期六"];

    let dayAsString = days[dayOfWeek];
    let year = today.getFullYear();
    let month = today.getMonth() + 1; 
    let date = today.getDate();
     
        title.innerHTML = "Welcome!!"+localStorage.getItem("name") + " " +localStorage.getItem("surname")+" "+year+ "年"+month+"月"+date+ "日，"+dayAsString;
        document.getElementById("time").innerHTML = "使用時間:"+time
      }
    </script>
  </head>
  <body onload="init()">
    <nav style="padding: 1.5rem;background-color:#ffcfad;"> 
        <table >
            <tr>
                <td>
                    <a href="./login.html" > <img src="cat.png" style="width:3rem;margin: auto ;background-color: #ffe4b8;"></a>
                </td>
                <td>
                    <a style="font-size: 1.5rem;margin: 1rem;padding: 1rem;background-color: #ffe4b8;color: #5e5a54;" href="final.html">random picture</a>
                </td>
                </td>
            </tr>
        </table>
    </nav>
    <h2 id="title" style="text-align: center;margin: 0;padding:0rem ;"></h2>
    <h3 id="time" style="text-align: center;margin: 0;padding:0rem ;"></h3>
    <div style="text-align: center;"> 
      <table style="border: 5px solid black;margin-left: auto;margin-right: auto;" cellpadding="2" width="350" height="350"> 
        <tbody>
          <tr> 
            <td style="text-align: center;">
                <img id="img1" src="images/apple.png" width="150" height="150" style="filter:revealTrans(duration=3,transition=8);">
                <p id="desc1" style="font-size: 18px;">apple</p>
            </td> 
            <td ></td>  
        
            <td style="text-align: center;">
                <img id="img2" src="images/banana.png" width="150" height="150" style="filter:revealTrans(duration=3,transition=8);"> 
                <p id="desc2" style="font-size: 18px;">banana</p>
            </td>  
           
            <td style="text-align: center;"><img id="img3" src="images/grapes.png" width="150" height="150" style="filter:revealTrans(duration=3,transition=8);"> 
            <p id="desc3" style="font-size: 18px;">grapes</p></td>  
           
            <td style="text-align: center;"><img id="img4" src="images/orange.png" width="150" height="150" style="filter:revealTrans(duration=3,transition=8);"><p id="desc4" style="font-size: 18px;">orange</p></td>  
          
            <td style="text-align: center;"><img id="img5" src="images/starryberry.png" width="150" height="150" style="filter:revealTrans(duration=3,transition=8);"><p id="desc5" style="font-size: 18px;">starryberry</p></td>  
          </tr> 
        </tbody>
      </table> 

      <div>
        <input type="radio" name="speed"  value="0.5s" onclick="setspeed(0.5);" checked><span>0.5s</span> 
        <input type="radio" name="speed" value="1s" onclick="setspeed(1);"><span>1s</span> 
        <input type="radio" name="speed" value="1.5s" onclick="setspeed(1.5);"><span>1.5s</span> 
        <input type="radio" name="speed" value="2s" onclick="setspeed(2);"><span>2s</span> 
      </div>      
      <input type="button" name="autoview" value="autoshow" onclick="setauto();">     
      <input type="button" name="clearautoview" value="clearautoshow" onclick="clearauto();">       
    </div>  
  </body>
</html>